import{r as o,o as c,c as l,a as n,f as s,F as r,d as a,h as t}from"./app.980b4b56.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";var d="/konviw/images/Properties-TOC-macro.png",h="/konviw/images/create-blog-post.png",k="/konviw/images/blog-post-header.png",m="/konviw/images/slides-page-properties.png";const g={},b=n("h2",{id:"getting-started",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#getting-started","aria-hidden":"true"},"#"),a(" Getting started")],-1),f=a("After following the "),v={href:"/installation",target:"_blank",rel:"noopener noreferrer"},w=a("installation"),y=a(" and configuration steps you can render any Confluence page composing "),_=n("code",null,"CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/spaces/ + spaceKey + /pages/ + pageId",-1),x=a("Or similarly for any Confluence URL like: "),C={href:"https://konviw.atlassian.net/wiki/spaces/KONVIW/pages/32981/Introduction+to+Konviw",target:"_blank",rel:"noopener noreferrer"},T=a("https://konviw.atlassian.net/wiki/spaces/KONVIW/pages/32981/Introduction+to+Konviw"),P=n("p",null,[a("just replace the begining of the URL by your custom Konviw domain like: "),n("code",null,"CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/spaces/KONVIW/pages/32981/Introduction+to+Konviw")],-1),q=a("for example "),A={href:"https://konviw.vercel.app/cpv/wiki/spaces/konviw/pages/32981",target:"_blank",rel:"noopener noreferrer"},I=a("https://konviw.vercel.app/cpv/wiki/spaces/konviw/pages/32981"),S=t(`<h2 id="formating-your-page" tabindex="-1"><a class="header-anchor" href="#formating-your-page" aria-hidden="true">#</a> Formating your page</h2><h3 id="text" tabindex="-1"><a class="header-anchor" href="#text" aria-hidden="true">#</a> Text</h3><p>Any text in <strong>bold</strong> or <em>italics</em>, with colors or combination of bullet points and number lists will render beautifully with Konviw.</p><h3 id="column-layouts" tabindex="-1"><a class="header-anchor" href="#column-layouts" aria-hidden="true">#</a> Column layouts</h3><p>konviw will display just fine both 2 column layouts and 3 column layout including full wide view or narrow view.</p><h3 id="emojis" tabindex="-1"><a class="header-anchor" href="#emojis" aria-hidden="true">#</a> Emojis</h3><p>The HTML5 specification encourages to use the UTF-8 character set, which covers almost all of the characters and symbols in the world! As Konviw use UTF-8 in the meta tag:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>we can use any emoji availalble directly from the Keyboard in Mac (via <code>cmd</code> + <code>ctrl</code> + <code>space</code>) or in Windows (via key <code>Win</code> + <code>;</code>).</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>While you can use most of the Confluence emoticons available en the Atlassian toolbar, we encourage to use standard UTF-8 emojis as they are worldwide standard and will display well in any device.</p></div><p>In addition standard UTF-8 emojis work also fine in the title of the pages while Confluence emojis just work in the page body.</p><h3 id="action-items" tabindex="-1"><a class="header-anchor" href="#action-items" aria-hidden="true">#</a> Action items</h3><p>Action items will be rendered via Konviw as checked or unchecked standard checkboxes.</p><h3 id="code" tabindex="-1"><a class="header-anchor" href="#code" aria-hidden="true">#</a> Code</h3><p>Display beautiful code is stratight forward with Konviw, just use the <em>Code Snippet</em> from Confluence toolbar in edit mode and place your code.</p>`,15),j=a("For syntax highlight Konview users the library "),K={href:"https://highlightjs.org",target:"_blank",rel:"noopener noreferrer"},V=a("Highlight.js"),E=a(" a JavaScript syntax highlighter with language auto-detection."),O=t('<h3 id="media-files" tabindex="-1"><a class="header-anchor" href="#media-files" aria-hidden="true">#</a> Media files</h3><p>Images and .gif files just work and come by default with a nice zooming effect so you can maximize the image to the whole viewport size. Zoom is disable when you scroll or click on the image. To disable the zoom effect (for example in very small images) include the text <code>(nozoom)</code> in the Alt property of the image.</p><p>Videos uploaded in a Confluence page will work straight forward in modern browsers thanks to the HTML tag <code>&lt;video&gt;</code>.</p><p>Konviw will detect your draw.io diagrams and present the .png view automatically generated by Confluence and stored as an attachment. This feature is experimental as sometimes Confluence mess around the names of the .png views and the diagrams.</p><h2 id="private-pages" tabindex="-1"><a class="header-anchor" href="#private-pages" aria-hidden="true">#</a> Private pages</h2><p>If you want to prevent pages to be displayed via konviw just add a special label to the page and configure this as private label via <code>CPV_CONFLUENCE_API_TOKEN</code>.</p><h2 id="advanced-features" tabindex="-1"><a class="header-anchor" href="#advanced-features" aria-hidden="true">#</a> Advanced features</h2><h2 id="floating-toc" tabindex="-1"><a class="header-anchor" href="#floating-toc" aria-hidden="true">#</a> Floating TOC</h2><p>You do not like the classical TOC (Table of Content) that Confluence shows inline in your page because you have to go back to the top to see it. This will be your favourite feature soon.</p><p>Now you can hide the classic TOC and make it visible on demand as part of a floating button that will show up in the top right page of your pages.</p><p>How to activate it? Edit the properties of the <strong>Table of Contents</strong> macro and add <code>konviw-float-TOC</code> in the CSS Class Name property, like in the example below.</p><p><img src="'+d+`" alt="Properties TOC macro"></p><h2 id="pre-rendered-pages" tabindex="-1"><a class="header-anchor" href="#pre-rendered-pages" aria-hidden="true">#</a> Pre-rendered pages</h2><p><em>Use pre-rendered, served pages with Konviw as a standalone server, or for quick and easy embedding into your site via iFrame.</em></p><p>A rendered page hosted from the Konviw server. This option allows the user to display a read only version of a Confluence page directly in their browser, or a developer to quickly embed content into a page using an iFrame. Includes some cool features to ease such as zooming, hovering table of contents and a read only page link generator.</p><p>You can simply embed your konviw pages in websites, MS Teams tabs or in other applications via iframes. To provide advance integration features konviw automatically pushes some post messages with metadata to the parent window and also provides several methods for auto-resizing so you can resize the iframe dynamically or display the Url being loaded in the iframe.</p><p>The variables passed from konviw to the parent page are:</p><ul><li><code>konviwFrameUrl</code> with the full page Url</li><li><code>konviwSpaceKey</code> of the space key</li><li><code>konviwPageId</code> with the ID of the page</li><li><code>konviwTitle</code> of the page</li><li><code>konviwExcerpt</code> of the page</li></ul><p>Use load the JavaScript library iFrame-Resizer so you can automatically resize the iframes where konviw is loaded.</p><p>As an example of implementation you have to provide a unique id for each iframe, the url of the konviw page and load iframe-resizer true a custom method function:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span>
  <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframeId<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframeLoaded(iframeId)<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">scrolling</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>konviw--page<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>For instance you can retrieve metadata in a Vue component with a method like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">iframeLoaded</span><span class="token punctuation">(</span><span class="token parameter">iframeId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">iFrameResize</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">log</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">checkOrigin</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token function-variable function">onMessage</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">messageData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Callback fn when message is received</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgPageId <span class="token operator">=</span> messageData<span class="token punctuation">.</span>message<span class="token punctuation">.</span>konviwPageId<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgTitle <span class="token operator">=</span> messageData<span class="token punctuation">.</span>message<span class="token punctuation">.</span>konviwTitle<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgExcerpt <span class="token operator">=</span> messageData<span class="token punctuation">.</span>message<span class="token punctuation">.</span>konviwExcerpt<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgIframeUrl <span class="token operator">=</span> messageData<span class="token punctuation">.</span>message<span class="token punctuation">.</span>konviwFrameUrl<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgSpaceKey <span class="token operator">=</span> messageData<span class="token punctuation">.</span>message<span class="token punctuation">.</span>konviwSpaceKey<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>iframeId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>You can find a great example of this implementation with 3 iframes in the <a href="architecture">Architecture page</a></p><h2 id="headless-pages-api" tabindex="-1"><a class="header-anchor" href="#headless-pages-api" aria-hidden="true">#</a> Headless pages API</h2><p><em>Treat Confluence as a headless CMS to seamlessly integrate Confluence content with your website or app.</em></p><p>Download page data through a headless CMS endpoint for integration directly in an application page content into your app. This is a more advanced option enabling transparent integration into your website or app.</p><h3 id="example-implementation" tabindex="-1"><a class="header-anchor" href="#example-implementation" aria-hidden="true">#</a> Example implementation</h3><p>Check out this great article for a similar implementation using Nuxt fetch with the Dev.to API: https://nuxtjs.org/tutorials/build-dev-to-clone-with-nuxt-new-fetch/.</p><p>A simple example implementation is shown below</p><ol><li>Add a div to the HTML which in which the Confluence content should be rendered.</li><li>Fetch the page info from the Konviw API, and inject into the div.</li><li>Add relevant CSS and JS into the page to style as required.</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:3000/cpv/css/custom.css?cache=1.22.4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:3000/cpv/css/all.min.css?cache=1.22.4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha512-Pbb8o120v5/hN/a6LjF4N4Lxou+xYZ0QcVF8J6TWhBbHmctQWd8O6xTDmHpE/91OjPzCk4JRoiJsexHYg4SotQ==<span class="token punctuation">&quot;</span></span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-referrer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    Some content
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>konviwcontent</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--Confluence page will be rendered in this div--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// fetch and render the page</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3000/cpv/api/spaces/konviw/pages/77627531&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;konviwcontent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
        hljs<span class="token punctuation">.</span><span class="token function">highlightAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// add the same copy to clipboard function used in the iFrame version (optional)</span>
<span class="token keyword">function</span> <span class="token function">copyToClipboard</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^[^#]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;#&quot;</span> <span class="token operator">+</span> text<span class="token punctuation">;</span>
  <span class="token keyword">const</span> inputc <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  inputc<span class="token punctuation">.</span>value <span class="token operator">=</span> url<span class="token punctuation">;</span>
  inputc<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  inputc<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">&quot;copy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  inputc<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>inputc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="limitations" tabindex="-1"><a class="header-anchor" href="#limitations" aria-hidden="true">#</a> Limitations</h3><p>The pages headless API is in Alpha and does not yet provide full functionality. Currently the html body contains some injected css and Javascript used in the rendered pages, and not all Confluence page properties are available.</p><h2 id="use-jira-macro-in-konviw-pages" tabindex="-1"><a class="header-anchor" href="#use-jira-macro-in-konviw-pages" aria-hidden="true">#</a> Use Jira Macro in konviw pages</h2>`,36),H=a("When you use Jira macro in your Conflence pages they will be also visible as dynamic tables in konviw. We use the awesome open-source JavaScript table plugin "),N={href:"https://gridjs.io/",target:"_blank",rel:"noopener noreferrer"},F=a("Grid.js"),B=a(" to render the table with the Jira tickets. It comes out of the box with sorting by column and search by keywords \u{1F92A}."),L=n("p",null,"Konviw will render the table with the same columns selected in the Jira macro and using the JQL or filter defined in the macro.",-1),D=t(`<p>The access to the Jira API works with the same variables used for Confluence API.</p><p>Check in the demo section in this documentation a <a href="demoJira">konviw page with a Jira table embedded</a>.</p><h2 id="cache-management" tabindex="-1"><a class="header-anchor" href="#cache-management" aria-hidden="true">#</a> Cache management</h2><p>By default Konviw comes with an in-memory cache for both pages and API endpoints. You can manually specify a TTL (expiration time) for the cache, via the <code>env</code> variable:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>CACHE_TTL = 86400    # Default to 24h
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>In some cases you may want to skip the cache to force to render a page with the last content served from the Confluence API. In those cases use the parameter <code>cache=no-cache</code>.</p><h2 id="add-comments-to-pages" tabindex="-1"><a class="header-anchor" href="#add-comments-to-pages" aria-hidden="true">#</a> Add comments to pages</h2>`,7),U=a("We will use "),R={href:"https://utteranc.es/",target:"_blank",rel:"noopener noreferrer"},W=a("Utterances"),z=a(" to host comments in GitHub and linked to konviw pages. Follow the installation and configuration instructions from their website. You can add the following Vue component that will match a set of comments to the pageId passed as props."),Y=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// .vuepress/components/Comment.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;comment&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">pageId</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> utterances <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    utterances<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span><span class="token punctuation">;</span>
    utterances<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    utterances<span class="token punctuation">.</span>crossorigin <span class="token operator">=</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">;</span>
    utterances<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;https://utteranc.es/client.js&#39;</span><span class="token punctuation">;</span>
    utterances<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;issue-term&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pathname|url|title|og:title</span>
    utterances<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;theme&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;github-light&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// theme</span>
    utterances<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;repo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Sanofi-IADC/konviw-comments&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// repository</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>comment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>utterances<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Now, for instance in VuePress you can add this component to any markdown page, like follows:</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> Demo Comments</span>
<span class="token punctuation">---</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ConfluencePage</span> <span class="token attr-name">pageId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>32981<span class="token punctuation">&#39;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Comment</span> <span class="token attr-name">pageId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>32981<span class="token punctuation">&#39;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>You can find an example of this implementation in the <a href="demoComments">demo comments page</a>.</p><h2 id="turn-pages-into-beatiful-blog-posts" tabindex="-1"><a class="header-anchor" href="#turn-pages-into-beatiful-blog-posts" aria-hidden="true">#</a> Turn pages into beatiful blog posts</h2><p>How to create your first blog post in Confluence and publish it via Konviw.</p><p>\u24F5 Make sure you are in the space you want to save your blog posts.</p><p>\u24F6 Click on Create to create a new page.</p><p>\u24F7 Select Blog post as template.</p><p>\u24F8 You will see that the position of the page change to Blog / Year / Month / Day which means that you are ready to go following the next steps and recommendations in this post.</p><p>Then you can start writing the main body of the article or post as per your own style, preference and according to the story you want to share.</p><p>To add a header banner with a nice image make sure the first element in the document is a \u201CPage Properties\u201D macro as showed in this example with an image and a blockquote headline.</p><p><img src="`+h+'" alt="create blog post"></p><p>Which will be processed and rendered via Konviw as follows: <img src="'+k+'" alt="blog post header"></p><p>Check in the demo section in this documentation an <a href="demoBlogPost">online example with blog post</a>.</p><p>Like for any other Confluence page you can render the blog posts also composing the following URL: <code>CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/spaces/ + spaceKey + /pages/ + pageId</code> or alternatively with the Confluence blog post notation: <code>CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/spaces/ + spaceKey + /blog/ + year + / + month + / + day + / + pageId</code> you may also add the slug with the title of the page (like it&#39;s done by Confluence) while this is ignored by Konviw.</p>',16),J=a("So for any blog post in Confluence like: "),M={href:"https://konviw.atlassian.net/wiki/spaces/KONVIW/blog/2021/04/04/10387469/How+to+write+a+blog+post+with+konviw",target:"_blank",rel:"noopener noreferrer"},G=a("https://konviw.atlassian.net/wiki/spaces/KONVIW/blog/2021/04/04/10387469/How+to+write+a+blog+post+with+konviw"),Q=n("p",null,[a("just replace the begining of the URL by your custom Konviw domain like: "),n("code",null,"CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/spaces/konviw/blog/2021/04/04/10387469?type=blog")],-1),Z=n("p",null,"For the blog post above both URL examples will render the same result:",-1),$={href:"https://konviw.vercel.app/cpv/wiki/spaces/konviw/blog/2021/04/04/10387469?type=blog",target:"_blank",rel:"noopener noreferrer"},X=a("https://konviw.vercel.app/cpv/wiki/spaces/konviw/blog/2021/04/04/10387469?type=blog"),nn={href:"https://konviw.vercel.app/cpv/wiki/spaces/konviw/pages/10387469?type=blog",target:"_blank",rel:"noopener noreferrer"},an=a("https://konviw.vercel.app/cpv/wiki/spaces/konviw/pages/10387469?type=blog"),sn=t('<p>The parameter <code>type</code> is used to define the header format for the page and accept 3 values:</p><ul><li><code>blog</code> to display the blog header image and headline text</li><li><code>notitle</code> to avoid the title in the header. See <a href="demoNoTitle">example without title</a></li><li><code>title</code> or undefined will render the standard Konviw page with just title</li></ul><h2 id="link-images-and-media" tabindex="-1"><a class="header-anchor" href="#link-images-and-media" aria-hidden="true">#</a> Link images and media</h2><p>Konviw also renders your media files and images, so you can combine other publishing tools like Wordpress and place your images directly from Confluence.</p><p>For example the following image is from the <a href="archiecture">Architecture page</a> and it is composed by the following structure:</p><p><code>CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/download/attachments/ + pageId + </code>/<code> + file name</code></p><p><img src="https://konviw.vercel.app/cpv/wiki/download/attachments/28213297/Konviw-C4M-Level1.png" alt="Image from Confluence"></p><h2 id="turn-pages-into-online-web-presentations" tabindex="-1"><a class="header-anchor" href="#turn-pages-into-online-web-presentations" aria-hidden="true">#</a> Turn pages into online web presentations</h2><p>You can mix content that will be visible into slides and content that will stay visible only in the page mode. This is a great way to build pages that serve simultaneously the purpose of documentation and presentation when you have to make a public talk about it.</p><p>Every slide is contained within the frame of a Confluence macro <code>Page Properties</code> like in the following example:</p><p><img src="'+m+'" alt="Page Properties"></p><p>Use <code>heading 1</code> for your cover slides or to create intermediate sections in your slide deck.</p><p><img src="https://konviw.vercel.app/cpv/wiki/download/thumbnails/14647304/image-20210410-164120.png?version=1&amp;modificationDate=1618072885631&amp;cacheVersion=1&amp;api=v2&amp;width=442&amp;height=280" alt="heading 1 slide type"></p><p>Use <code>heading 2</code> for the default and most common slides.</p><p><img src="https://konviw.vercel.app/cpv/wiki/download/thumbnails/14647304/image-20210410-164104.png?version=1&amp;modificationDate=1618072868390&amp;cacheVersion=1&amp;api=v2&amp;width=442&amp;height=280" alt="heading 2 slide type"></p><p>And you have a 3rd type of slides with the <code>heading 3</code> which display the title as bubble comment.</p><p><img src="https://konviw.vercel.app/cpv/wiki/download/thumbnails/14647304/image-20210410-164203.png?version=1&amp;modificationDate=1618072928360&amp;cacheVersion=1&amp;api=v2&amp;width=442&amp;height=280" alt="heading 3 slide type"></p><p>Add an image as the first object in your <code>Page Properties</code> macro to display it full size as background for the current slide.</p>',18),en=a("So for any Confluence page with slides like : "),tn={href:"https://konviw.atlassian.net/wiki/spaces/KONVIW/pages/14647304/Slides",target:"_blank",rel:"noopener noreferrer"},on=a("https://konviw.atlassian.net/wiki/spaces/KONVIW/pages/14647304/Slides"),pn=n("p",null,[a("just replace the begining of the URL by your custom Konviw domain like: "),n("code",null,"CPV_BASEHOST:PORT + CPV_BASEPATH + /wiki/slides/konviw/ + PageID + ?style=konviw")],-1),cn=n("p",null,[a("You can define custom themes and select your favorite with the param "),n("code",null,"style"),a(". Default style is "),n("code",null,"konviw"),a(".")],-1),ln=n("p",null,"Examples:",-1),rn={href:"https://konviw.vercel.app/cpv/wiki/slides/konviw/14647304?style=konviw",target:"_blank",rel:"noopener noreferrer"},un=a("https://konviw.vercel.app/cpv/wiki/slides/konviw/14647304?style=konviw"),dn={href:"https://konviw.vercel.app/cpv/wiki/slides/konviw/14647304?style=iadc",target:"_blank",rel:"noopener noreferrer"},hn=a("https://konviw.vercel.app/cpv/wiki/slides/konviw/14647304?style=iadc"),kn=t('<p>You can read a <a href="demoSlidesDocs">konviw page with instructions to create web slides</a> from your Confluence content in the demo section of these docs.</p><h2 id="add-charts-to-pages" tabindex="-1"><a class="header-anchor" href="#add-charts-to-pages" aria-hidden="true">#</a> Add charts to pages</h2><p>The Chart macro allows you to display a chart based on tabular data. When you add the macro to a page, you:</p><ul><li>supply the data to be charted by the macro as a table in the placeholder of the macro.</li><li>edit the macro parameters in the Macro Browser to configure the format of the chart.</li></ul><p>To display charts in konviw pages you have to set up the advanced options for chart versioning and generate images to be saved as an attachment.</p><p>Parameter: <code>Attachment</code> The name and location with which the chart image will be saved as an attachment. Currently konviw only supports the first two options. To make sure your charts are properly displayed also when used in <code>Include Page</code>, we recommend to use the 2nd option even to include explicitly the ID of the current page.</p><ul><li><code>^attachmentName.png</code> \u2014 the chart is saved as an attachment to the current page.</li><li><code>page^attachmentName.png</code> \u2014 the chart is saved as an attachment to the page name provided.</li><li><code>space:page^attachmentName.png</code> \u2014 the chart is saved as an attachment to the page name provided in the space indicated.</li></ul><p>Parameter: <code>Attachment Version</code> Defines the the versioning mechanism for saved charts. For optimal behaviour in konviw select <code>replace</code>.</p><ul><li><code>new</code> \u2014 creates new version of the attachment.</li><li><code>replace</code> \u2014 replaces all previous versions of the chart. To replace an existing attachment, the user must be authorized to remove attachments for the page specified.</li><li><code>keep</code> \u2014 only saves a new attachment if an existing export of the same name does not exist. An existing attachment will not be changed or updated.</li></ul><p><img src="https://konviw.vercel.app/cpv/wiki/download/attachments/44007425/RadarChartExample.png" alt="Radar Chart Example"></p>',10),mn=a("You can read the full documentation of how to "),gn={href:"https://support.atlassian.com/confluence-cloud/docs/insert-the-chart-macro/#ChartMacro-AttachmentParameters",target:"_blank",rel:"noopener noreferrer"},bn=a("insert the chart macro and attachment parameters"),fn=a("."),vn=n("h2",{id:"visualize-roadmaps",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#visualize-roadmaps","aria-hidden":"true"},"#"),a(" Visualize Roadmaps")],-1),wn=n("p",null,"One very cool feature in Confluence is the macro Roadmap planner that allows you to show to your users a planning of actions and milestones in a timeline. You can have multiple roadmaps in a single page. You can also embed them in a Page Properties macro so they are ready to be shown in your awesome konviw slides.",-1),yn=a("You can read the full documentation of how to "),_n={href:"https://support.atlassian.com/confluence-cloud/docs/insert-the-roadmap-planner-macro/",target:"_blank",rel:"noopener noreferrer"},xn=a("insert the roadmap planner macro"),Cn=a(".");function Tn(Pn,qn){const e=o("ExternalLinkIcon"),p=o("ConfluencePage"),i=o("ConfluenceSlides");return c(),l(r,null,[b,n("p",null,[f,n("a",v,[w,s(e)]),y,_]),n("p",null,[x,n("a",C,[T,s(e)])]),P,n("p",null,[q,n("a",A,[I,s(e)])]),S,n("p",null,[j,n("a",K,[V,s(e)]),E]),O,n("p",null,[H,n("a",N,[F,s(e)]),B]),L,s(p,{switchTheme:!1,metadata:!1,type:"notitle",pageId:"35160094"}),D,n("p",null,[U,n("a",R,[W,s(e)]),z]),Y,n("p",null,[J,n("a",M,[G,s(e)])]),Q,Z,n("ul",null,[n("li",null,[n("a",$,[X,s(e)])]),n("li",null,[n("a",nn,[an,s(e)])])]),sn,n("p",null,[en,n("a",tn,[on,s(e)])]),pn,cn,ln,n("p",null,[n("a",rn,[un,s(e)])]),s(i,{styleId:"konviw",pageId:"14647304"}),n("p",null,[n("a",dn,[hn,s(e)])]),s(i,{styleId:"iadc",pageId:"14647304"}),kn,n("p",null,[mn,n("a",gn,[bn,s(e)]),fn]),vn,wn,s(p,{switchTheme:!1,metadata:!1,type:"notitle",pageId:"77594631"}),n("p",null,[yn,n("a",_n,[xn,s(e)]),Cn])],64)}var Sn=u(g,[["render",Tn]]);export{Sn as default};
